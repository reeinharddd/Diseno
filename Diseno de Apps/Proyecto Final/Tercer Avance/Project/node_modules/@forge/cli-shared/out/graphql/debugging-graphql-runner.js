"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ui_1 = require("../ui");
function stringify(variables) {
    return JSON.stringify(variables, null, 2);
}
exports.stringify = stringify;
class DebuggingGraphqlRunner {
    constructor(innerClient, endpoint, logger) {
        this.innerClient = innerClient;
        this.endpoint = endpoint;
        this.logger = logger;
    }
    async run(query, variables) {
        this.logger.trace(ui_1.Text.graphQL.request(this.endpoint, query, stringify(variables)));
        const { requestId, response } = await this.innerClient.run(query, variables);
        this.logger.trace(ui_1.Text.graphQL.response(stringify(response), requestId));
        return { requestId, response };
    }
}
exports.DebuggingGraphqlRunner = DebuggingGraphqlRunner;
