"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = ({ types: t }) => {
    return {
        pre() {
            this.visitedElements = {};
        },
        visitor: {
            JSXOpeningElement(path) {
                const nodeName = path.node.name;
                const name = t.isJSXIdentifier(nodeName) ? nodeName.name : nodeName.property.name;
                if (typeof this.visitedElements[name] === 'undefined') {
                    this.visitedElements[name] = 0;
                }
                else {
                    this.visitedElements[name]++;
                }
                path.unshiftContainer('attributes', t.jsxAttribute(t.jsxIdentifier('__auxId'), t.stringLiteral(`${name}.${this.visitedElements[name]}`)));
            }
        }
    };
};
